{"version":3,"sources":["webpack:///./src/assets/svg/reply-lg.svg","webpack:///./src/views/Tweets.vue?b5cc","webpack:///./src/components/TweetDetail.vue?6b13","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///src/components/TweetDetail.vue","webpack:///./src/components/TweetDetail.vue?a991","webpack:///./src/components/TweetDetail.vue","webpack:///./src/components/TweetReply.vue?e699","webpack:///src/components/TweetReply.vue","webpack:///./src/components/TweetReply.vue?a78b","webpack:///./src/components/TweetReply.vue","webpack:///src/views/Tweets.vue","webpack:///./src/views/Tweets.vue?b9b0","webpack:///./src/views/Tweets.vue","webpack:///./src/components/TweetDetail.vue?cf5e","webpack:///./src/views/Tweets.vue?0a5a","webpack:///./src/components/TweetReply.vue?10fe"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","tweet","on","handleaddLiked","replies","staticRenderFns","Object","keys","length","name","params","userid","UserId","User","avatar","_v","_s","account","description","isToday","createdAt","fromNow","utcOffset","timeFormat","replyCount","likeCount","showtweetReplyModal","$event","stopPropagation","preventDefault","handleLike","isLiked","id","replyData","modalClose","replySubmit","_e","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","indexOf","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","mixins","components","TweetReplyModal","TweetLke","data","isShowModal","props","type","required","computed","methods","addLiked","$emit","component","_l","reply","Tweet","comment","Array","NavBars","NavTabs","Popular","TweetDetail","TweetReply","created","fetchReplies","$route","fetchTweet","watch","isTweetNeedReload","handleTweetsReload"],"mappings":"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","file":"js/chunk-b3461496.99d444ce.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/reply-lg.3004ae28.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"tweets\"}},[_c('div',{staticClass:\"navbar\"},[_c('NavBars',{attrs:{\"page\":\"normal\"}})],1),_c('div',{staticClass:\"tweets-center\"},[_c('NavTabs',{attrs:{\"plainText\":\"推文\",\"isbackArrow\":true}}),_c('div',{staticClass:\"tweets-center-tweet\"},[_c('TweetDetail',{attrs:{\"tweet\":_vm.tweet},on:{\"handleaddLiked\":_vm.handleaddLiked}})],1),_c('div',{staticClass:\"tweets-center-tweets\"},[_c('TweetReply',{attrs:{\"replies\":_vm.replies}})],1)],1),_c('div',{staticClass:\"tweets-right\"},[_c('Popular')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (Object.keys(_vm.tweet).length !== 0)?_c('div',{attrs:{\"id\":\"tweetdetail\"}},[_c('div',{staticClass:\"tweet-header\"},[_c('router-link',{attrs:{\"to\":{ name: 'profile', params: { userid: _vm.tweet.UserId } }}},[_c('img',{attrs:{\"src\":_vm.tweet.User.avatar,\"alt\":\"avatar\"}})]),_c('div',{staticClass:\"user-detail\"},[_c('router-link',{attrs:{\"to\":{ name: 'profile', params: { userid: _vm.tweet.UserId } }}},[_c('span',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.tweet.User.name))])]),_c('router-link',{attrs:{\"to\":{ name: 'profile', params: { userid: _vm.tweet.UserId } }}},[_c('span',{staticClass:\"user-account\"},[_vm._v(_vm._s('@' + _vm.tweet.User.account))])])],1)],1),_c('div',{staticClass:\"tweet-text\"},[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")]),_c('div',{staticClass:\"tweet-detail\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.isToday(_vm.tweet.createdAt) ? _vm.fromNow(_vm.utcOffset(_vm.tweet.createdAt)) : _vm.timeFormat(_vm.utcOffset(_vm.tweet.createdAt), 'A hh:MM•YYYY年MM月DD日'))+\" \")])]),_c('div',{staticClass:\"tweet-text-detail\"},[_c('span',{staticClass:\"reply\"},[_c('span',{staticClass:\"reply-count\"},[_vm._v(_vm._s(_vm.tweet.replyCount))]),_vm._v(\" 回覆\")]),_c('span',{staticClass:\"like\"},[_c('span',{staticClass:\"like-count\"},[_vm._v(_vm._s(_vm.tweet.likeCount))]),_vm._v(\" 喜歡次數\")])]),_c('div',{staticClass:\"btn btn-control\"},[_c('div',{staticClass:\"btn-reply cursor-pointer\",on:{\"click\":_vm.showtweetReplyModal}},[_c('img',{staticClass:\"reply-icon\",attrs:{\"src\":require(\"@/assets/svg/reply-lg.svg\")}})]),_c('div',{staticClass:\"btn-like cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleLike(_vm.tweet.isLiked, _vm.tweet.id)}}},[_c('TweetLke',{staticClass:\"like-icon\",attrs:{\"isActive\":_vm.tweet.isLiked}})],1)]),(_vm.isShowModal)?_c('TweetReplyModal',{attrs:{\"tweet\":_vm.replyData},on:{\"close\":_vm.modalClose,\"submit\":_vm.replySubmit}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","<template>\r\n  <div id=\"tweetdetail\" v-if=\"Object.keys(tweet).length !== 0\">\r\n    <div class=\"tweet-header\">\r\n      <router-link :to=\"{ name: 'profile', params: { userid: tweet.UserId } }\">\r\n        <img :src=\"tweet.User.avatar\" alt=\"avatar\" />\r\n      </router-link>\r\n      <div class=\"user-detail\">\r\n        <router-link\r\n          :to=\"{ name: 'profile', params: { userid: tweet.UserId } }\"\r\n        >\r\n          <span class=\"user-name\">{{ tweet.User.name }}</span></router-link\r\n        >\r\n        <router-link\r\n          :to=\"{ name: 'profile', params: { userid: tweet.UserId } }\"\r\n        >\r\n          <span class=\"user-account\">{{\r\n            '@' + tweet.User.account\r\n          }}</span></router-link\r\n        >\r\n      </div>\r\n    </div>\r\n    <div class=\"tweet-text\">\r\n      {{ tweet.description }}\r\n    </div>\r\n    <div class=\"tweet-detail\">\r\n      <span>\r\n        {{\r\n          isToday(tweet.createdAt)\r\n            ? fromNow(utcOffset(tweet.createdAt))\r\n            : timeFormat(utcOffset(tweet.createdAt), 'A hh:MM•YYYY年MM月DD日')\r\n        }}\r\n      </span>\r\n    </div>\r\n    <div class=\"tweet-text-detail\">\r\n      <span class=\"reply\">\r\n        <span class=\"reply-count\">{{ tweet.replyCount }}</span> 回覆</span\r\n      >\r\n      <span class=\"like\">\r\n        <span class=\"like-count\">{{ tweet.likeCount }}</span> 喜歡次數</span\r\n      >\r\n    </div>\r\n    <div class=\"btn btn-control\">\r\n      <div class=\"btn-reply cursor-pointer\" @click=\"showtweetReplyModal\">\r\n        <img class=\"reply-icon\" src=\"@/assets/svg/reply-lg.svg\" />\r\n      </div>\r\n      <div\r\n        class=\"btn-like cursor-pointer\"\r\n        @click.stop.prevent=\"handleLike(tweet.isLiked, tweet.id)\"\r\n      >\r\n        <!-- <img class=\"like-icon\" src=\"@/assets/svg/like-lg.svg\" /> -->\r\n        <TweetLke class=\"like-icon\" :isActive=\"tweet.isLiked\" />\r\n      </div>\r\n    </div>\r\n    <TweetReplyModal\r\n      :tweet=\"replyData\"\r\n      v-if=\"isShowModal\"\r\n      @close=\"modalClose\"\r\n      @submit=\"replySubmit\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fromNowFilter } from './../utils/mixins'\r\nimport TweetReplyModal from '@/components/TweetReplyModal.vue'\r\nimport TweetLke from '@/components/icon/TweetLike.vue'\r\nimport tweetsAPI from './../apis/tweets'\r\nimport { Toast } from './../utils/helpers'\r\n\r\nexport default {\r\n  mixins: [fromNowFilter],\r\n  components: {\r\n    TweetReplyModal,\r\n    TweetLke,\r\n  },\r\n  data() {\r\n    return {\r\n      isShowModal: false,\r\n    }\r\n  },\r\n  props: {\r\n    tweet: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    replyData() {\r\n      if (Object.keys(this.tweet).length === 0) return {}\r\n      const { User, ...data } = this.tweet\r\n      return {\r\n        name: User.name,\r\n        account: User.account,\r\n        avatar: User.avatar,\r\n        ...data,\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    showtweetReplyModal() {\r\n      this.isShowModal = true\r\n    },\r\n    modalClose() {\r\n      this.isShowModal = false\r\n    },\r\n    handleLike(isLiked, id) {\r\n      this.handleaddLiked(isLiked, id)\r\n      this.addLiked(isLiked, id)\r\n    },\r\n    async addLiked(isLiked, id) {\r\n      // this.handleaddLiked(id)\r\n      try {\r\n        if (isLiked) {\r\n          await tweetsAPI.deleteLiked(id)\r\n        } else {\r\n          await tweetsAPI.addLiked(id)\r\n        }\r\n      } catch (error) {\r\n        const toastTitle = isLiked\r\n          ? '無法對推文按不喜歡，請稍後再試'\r\n          : '無法對推文按喜歡，請稍後再試'\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: toastTitle,\r\n        })\r\n      }\r\n    },\r\n    handleaddLiked(isLiked) {\r\n      this.$emit('handleaddLiked', { isLiked: !isLiked })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#tweetdetail {\r\n  width: 100%;\r\n  padding: 0.938rem 0.938rem 0.625rem 0.938rem;\r\n  overflow: auto;\r\n}\r\n\r\n.tweet-header {\r\n  display: flex;\r\n  align-items: center;\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    margin-right: 0.625rem;\r\n    border-radius: 50px;\r\n  }\r\n  .user-detail {\r\n    display: flex;\r\n    flex-direction: column;\r\n    .user-name {\r\n      font-size: 15px;\r\n      font-weight: 700;\r\n      // line-height: 22px;\r\n      color: $main-text;\r\n    }\r\n    .user-account {\r\n      font-size: 15px;\r\n      font-weight: 500;\r\n      // line-height: 22px;\r\n      color: $input-placeholder;\r\n    }\r\n  }\r\n}\r\n\r\n.tweet-text {\r\n  display: inline-block;\r\n  width: 100%;\r\n  margin: 1.125rem 0;\r\n  line-height: 34px;\r\n  font-size: 23px;\r\n  font-weight: 500;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.tweet-detail {\r\n  padding-bottom: 1.125rem;\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  line-height: 22px;\r\n  color: $input-placeholder;\r\n  border-bottom: 1px solid $popular-border;\r\n}\r\n\r\n.tweet-text-detail {\r\n  padding: 1.25rem 0;\r\n  border-bottom: 1px solid $popular-border;\r\n  .reply {\r\n    margin-right: 1.25rem;\r\n  }\r\n  .reply,\r\n  .like {\r\n    font-size: 19px;\r\n    font-weight: 500;\r\n    line-height: 27.51px;\r\n    color: $input-placeholder;\r\n  }\r\n  .reply-count,\r\n  .like-count {\r\n    font-weight: 700;\r\n    line-height: 28px;\r\n    color: $modal-body-bg;\r\n  }\r\n}\r\n\r\n.btn-control {\r\n  padding-top: 0.938rem;\r\n  display: flex;\r\n  img {\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n  .btn-reply {\r\n    margin-right: 9.375rem;\r\n  }\r\n  .like-icon {\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetDetail.vue?vue&type=template&id=8b00e58a&scoped=true&\"\nimport script from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetDetail.vue?vue&type=style&index=0&id=8b00e58a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b00e58a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.replies),function(reply){return _c('div',{key:reply.id,staticClass:\"tweet-reply\",attrs:{\"id\":(\"tweet-reply-\" + (reply.id))}},[_c('router-link',{attrs:{\"to\":{ name: 'profile', params: { userid: reply.User.id } }}},[_c('img',{attrs:{\"src\":reply.User.avatar,\"alt\":\"avatar\"}})]),_c('div',{staticClass:\"reply-content\"},[_c('div',{staticClass:\"user-details\"},[_c('router-link',{attrs:{\"to\":{ name: 'profile', params: { userid: reply.User.id } }}},[_c('span',{staticClass:\"user-name\"},[_vm._v(_vm._s(reply.User.name))])]),_c('span',{staticClass:\"user-detail\"},[_vm._v(\" \"+_vm._s(reply.User.account)+\"•\"+_vm._s(_vm.isToday(reply.createdAt) ? _vm.fromNow(_vm.utcOffset(reply.createdAt)) : _vm.timeFormat(_vm.utcOffset(reply.createdAt), 'MM月DD日'))+\" \")])],1),_c('div',{staticClass:\"reply\"},[_c('span',[_vm._v(\"回覆 \")]),_c('router-link',{staticClass:\"reply-tweet-account\",attrs:{\"to\":{ name: 'profile', params: { userid: reply.Tweet.User.id } }}},[_vm._v(_vm._s('@'+reply.Tweet.User.account))]),_c('div',{staticClass:\"reply-text\"},[_vm._v(_vm._s(reply.comment))])],1)])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- v-for=\"reply in replies\" :key=\"reply.id\" -->\r\n  <div>\r\n    <div :id=\"`tweet-reply-${reply.id}`\" v-for=\"reply in replies\" :key=\"reply.id\" class=\"tweet-reply\">\r\n      <router-link :to=\"{ name: 'profile', params: { userid: reply.User.id } }\">\r\n      <img :src=\"reply.User.avatar\" alt=\"avatar\" />\r\n      </router-link>\r\n      <div class=\"reply-content\">\r\n        <div class=\"user-details\">\r\n          <router-link :to=\"{ name: 'profile', params: { userid: reply.User.id } }\">\r\n          <span class=\"user-name\">{{ reply.User.name }}</span>\r\n          </router-link>\r\n          <span class=\"user-detail\">\r\n            {{ reply.User.account }}•{{\r\n              isToday(reply.createdAt)\r\n                ? fromNow(utcOffset(reply.createdAt))\r\n                : timeFormat(utcOffset(reply.createdAt), 'MM月DD日')\r\n            }}\r\n          </span>\r\n        </div>\r\n        <div class=\"reply\">\r\n          <span>回覆&ensp;</span>\r\n          <router-link :to=\"{ name: 'profile', params: { userid: reply.Tweet.User.id } }\" class=\"reply-tweet-account\">{{ '@'+reply.Tweet.User.account }}</router-link>\r\n          <div class=\"reply-text\">{{ reply.comment }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fromNowFilter } from './../utils/mixins'\r\n\r\nexport default {\r\n  mixins: [fromNowFilter],\r\n  props: {\r\n    replies: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tweet-reply {\r\n  width: 100%;\r\n  padding: 0.938rem;\r\n  display: flex;\r\n  border-bottom: 1px solid $popular-border;\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    margin-right: 0.625rem;\r\n    border-radius: 50px;\r\n  }\r\n}\r\n\r\n.reply-content {\r\n  overflow: auto;\r\n}\r\n// TODO:待確認 span 行高\r\n.user-details {\r\n  .user-name {\r\n    font-size: 15px;\r\n    font-weight: 700;\r\n    color: $main-text;\r\n    margin-right: 0.313rem;\r\n  }\r\n  .user-detail {\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n    color: $input-placeholder;\r\n  }\r\n}\r\n.reply {\r\n  max-width: 25rem;\r\n  span {\r\n    margin-right: 0.5px;\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n    color: $input-placeholder;\r\n  }\r\n  .reply-tweet-account {\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n    color: $nav-avtive-color;\r\n  }\r\n  .reply-text {\r\n    margin-top: 0.25rem;\r\n    font-size: 15px;\r\n    font-weight: 400;\r\n    word-wrap: break-word;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetReply.vue?vue&type=template&id=d93045ac&scoped=true&\"\nimport script from \"./TweetReply.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetReply.vue?vue&type=style&index=0&id=d93045ac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d93045ac\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"tweets\">\r\n    <div class=\"navbar\">\r\n      <NavBars page=\"normal\" />\r\n    </div>\r\n    <div class=\"tweets-center\">\r\n      <NavTabs plainText=\"推文\" :isbackArrow=\"true\" />\r\n      <div class=\"tweets-center-tweet\">\r\n        <TweetDetail :tweet=\"tweet\" @handleaddLiked=\"handleaddLiked\" />\r\n      </div>\r\n      <div class=\"tweets-center-tweets\">\r\n        <TweetReply :replies=\"replies\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"tweets-right\"><Popular /></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBars from './../components/NavBars.vue'\r\nimport NavTabs from '../components/NavTabs.vue'\r\nimport Popular from './../components/Popular.vue'\r\nimport TweetDetail from '@/components/TweetDetail.vue'\r\nimport TweetReply from '@/components/TweetReply.vue'\r\nimport tweetsAPI from './../apis/tweets'\r\nimport { Toast } from './../utils/helpers'\r\nimport { mapState, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    NavBars,\r\n    NavTabs,\r\n    Popular,\r\n    TweetDetail,\r\n    TweetReply,\r\n  },\r\n  data() {\r\n    return {\r\n      tweet: {},\r\n      replies: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchReplies(this.$route.params.id)\r\n    this.fetchTweet(this.$route.params.id)\r\n  },\r\n  watch: {\r\n    isTweetNeedReload() {\r\n      if (this.isTweetNeedReload) {\r\n        this.fetchReplies(this.$route.params.id)\r\n        this.fetchTweet(this.$route.params.id)\r\n        this.handleTweetsReload(false)\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      isTweetNeedReload: 'isTweetNeedReload',\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions(['handleTweetsReload']),\r\n    async fetchReplies(tweet_id) {\r\n      try {\r\n        const { data } = await tweetsAPI.getReplies(tweet_id)\r\n        this.replies = data.reverse()\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得回覆，請稍後再試',\r\n        })\r\n        // this.$router.push('/')\r\n      }\r\n    },\r\n    async fetchTweet(tweet_id) {\r\n      try {\r\n        const { data } = await tweetsAPI.getTweetDetail(tweet_id)\r\n\r\n        this.tweet = data\r\n\r\n        if (data.status === 'error') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        // Toast.fire({\r\n        //   icon: 'success',\r\n        //   title: '成功取得推文',\r\n        // })\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得推文，請稍後再試',\r\n        })\r\n        // this.$router.push('/')\r\n      }\r\n    },\r\n    handleaddLiked({ isLiked }) {\r\n      this.tweet.isLiked = isLiked\r\n      this.tweet.likeCount += isLiked ? 1 : -1\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#tweets {\r\n  width: 100%;\r\n  display: flex;\r\n  max-width: 1245px;\r\n}\r\n\r\n.tweets-center {\r\n  max-width: 495px;\r\n  margin: 0 2.5rem;\r\n  flex-grow: 1;\r\n  border-left: 1px solid $popular-border;\r\n  border-right: 1px solid $popular-border;\r\n}\r\n\r\n.tweets-center-tweet {\r\n  width: 100%;\r\n  border-bottom: 1px solid $popular-border;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tweets.vue?vue&type=template&id=0629c77e&scoped=true&\"\nimport script from \"./Tweets.vue?vue&type=script&lang=js&\"\nexport * from \"./Tweets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tweets.vue?vue&type=style&index=0&id=0629c77e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0629c77e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=style&index=0&id=8b00e58a&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=style&index=0&id=0629c77e&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetReply.vue?vue&type=style&index=0&id=d93045ac&lang=scss&scoped=true&\""],"sourceRoot":""}