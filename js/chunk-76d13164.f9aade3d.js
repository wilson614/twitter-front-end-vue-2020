(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76d13164"],{"0e46":function(e,t,s){},"384e":function(e,t,s){e.exports=s.p+"img/like_fill.7e3617b7.svg"},"43a0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-likes-container d-flex justify-content-center"},[a("ul",{staticClass:"user-like-list"},e._l(e.likes,(function(t){return a("li",{key:t.id,staticClass:"like-item d-flex"},[a("div",{staticClass:"user-avatar"},[a("img",{staticClass:"avatar",attrs:{src:t.Tweet.User.avatar}})]),a("div",{staticClass:"user-like-main"},[a("div",{staticClass:"user-info"},[a("span",{staticClass:"user name"},[e._v(e._s(t.Tweet.User.name))]),a("router-link",{staticClass:"user account",attrs:{to:"/users/"+t.Tweet.User.id}},[e._v(e._s("@"+t.Tweet.User.account))]),a("span",{staticClass:"seperater"},[e._v("•")]),a("span",{staticClass:"user created-at"},[e._v(e._s(e.isToday(t.Tweet.createdAt)?e.fromNow(e.utcOffset(t.Tweet.createdAt)):e.timeFormat(e.utcOffset(t.Tweet.createdAt),"MM月DD日")))])],1),a("router-link",{attrs:{to:"/tweets/"+t.Tweet.id}},[a("p",{staticClass:"like-content"},[e._v(" "+e._s(t.Tweet.description)+" ")])]),a("div",{staticClass:"reply-likes d-flex align-items-center"},[a("div",{staticClass:"reply-wrapper d-flex align-items-center cursor-pointer",on:{click:function(s){return e.showtweetReplyModal(t)}}},[a("img",{staticClass:"icon reply-icon",attrs:{src:s("66ed")}}),a("p",{staticClass:"counts reply-counts"},[e._v(e._s(t.Tweet.replyCount))])]),a("div",{staticClass:"like-wrapper d-flex align-items-center"},[a("img",{staticClass:"icon isliked-icon",attrs:{src:s("384e")},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.unLike(t.Tweet.id)}}}),a("p",{staticClass:"counts isliked-counts"},[e._v(e._s(t.Tweet.likeCount))])])])],1)])})),0),0!==Object.keys(e.modalData).length?a("TweetReplyModal",{attrs:{tweet:e.modalData},on:{close:e.modalClose,submit:e.replySubmit}}):e._e()],1)},r=[],i=s("1da1"),n=(s("4de4"),s("b0c0"),s("a4d3"),s("e01a"),s("96cf"),s("2708")),c=s("1602"),o=s("811a"),l=s("2fa3"),u=s("6783"),d={mixins:[n["b"]],components:{TweetReplyModal:o["a"]},data:function(){return{likes:[],modalData:{},isShowModal:!1}},created:function(){var e=this.$route.params.userid;this.fetchLikes(e)},beforeRouteUpdate:function(e,t,s){var a=e.params.userid;this.fetchLikes(a),s()},methods:{fetchLikes:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,c["a"].getUserLikes({userid:e});case 3:a=s.sent,r=a.data,t.likes=r,s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),l["a"].fire({type:"error",title:"無法取得使用者資料，請稍後再試"});case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()},unLike:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u["a"].unlikeTweet({tweetId:e});case 3:if(a=s.sent,r=a.data,"success"===r.status){s.next=7;break}throw new Error(r.message);case 7:l["a"].fire({icon:"success",title:"成功移除最愛"}),t.likes=t.likes.filter((function(t){return t.Tweet.id!==e})),s.next=15;break;case 11:s.prev=11,s.t0=s["catch"](0),console.log(s.t0),l["a"].fire({icon:"error",title:"無法 加入/移除 最愛"});case 15:case"end":return s.stop()}}),s,null,[[0,11]])})))()},showtweetReplyModal:function(e){this.modalData={name:e.Tweet.User.name,account:e.Tweet.User.account,avatar:e.Tweet.User.avatar,createdAt:e.Tweet.createdAt,description:e.Tweet.description,id:e.TweetId}},modalClose:function(){this.modalData={}},replySubmit:function(e){console.log(e),this.modalClose()}}},p=d,f=(s("eaac"),s("2877")),w=Object(f["a"])(p,a,r,!1,null,"e70b2fe4",null);t["default"]=w.exports},"66ed":function(e,t,s){e.exports=s.p+"img/reply.20d8cd6a.svg"},eaac:function(e,t,s){"use strict";s("0e46")}}]);
//# sourceMappingURL=chunk-76d13164.f9aade3d.js.map